(this["webpackJsonpcard-maker"]=this["webpackJsonpcard-maker"]||[]).push([[0],{13:function(e,t,a){e.exports={makerBlack:"#000000",makerWhite:"#ffffff",makerWheat:"#f5deb3",card:"card_card__2VEeM",light:"card_light__SONGd",dark:"card_dark__3jzCC",colorful:"card_colorful__3klr3",avatar:"card_avatar__H-hCu",info:"card_info__2wjFP",name:"card_name__lzM0w",title:"card_title__1lzGQ",email:"card_email__37cqk",company:"card_company__2Jzlv",message:"card_message__21PN0"}},16:function(e,t,a){e.exports={makerBlack:"#000000",makerWhite:"#ffffff",form:"card_edit_form_form__39ZCC",input:"card_edit_form_input__3QOSZ",textarea:"card_edit_form_textarea__1NLFr",select:"card_edit_form_select__2fQ4e",buttton:"card_edit_form_buttton__1yDqK",fileInput:"card_edit_form_fileInput__1xjmG"}},17:function(e,t,a){e.exports={makerBlack:"#000000",makerWhite:"#ffffff",form:"card_add_form_form__NzjmF",input:"card_add_form_input__1BiAZ",textarea:"card_add_form_textarea__3xnNV",select:"card_add_form_select__3SlBu",buttton:"card_add_form_buttton__3VhKB",fileInput:"card_add_form_fileInput__2X9vP"}},24:function(e,t,a){e.exports={makerLightGrey:"#e8e7e6",makerMagenta:"#ff00ff",makerLightSlateGray:"#778899",container:"image_file_input_container__rw2zH",input:"image_file_input_input__2zPbj",button:"image_file_input_button__3vGjD",blue:"image_file_input_blue__TITAP",loading:"image_file_input_loading__cFdLI",spin:"image_file_input_spin__2Gfg1"}},26:function(e,t,a){e.exports={makerGreen:"#385461",makerWhite:"#ffffff",makerBlack:"#000000",header:"header_header__CkwlO",title:"header_title__VXl_c",logout:"header_logout__1RRLD"}},31:function(e,t,a){e.exports={makerGreen:"#385461",makerWhite:"#ffffff",makerLightPink:"#ffeae8",login:"login_login__3a569",btn:"login_btn__153R4"}},32:function(e,t,a){e.exports={makerGreen:"#385461",preview:"preview_preview__2H_DQ",title:"preview_title__3NN0m",cards:"preview_cards__1mvrH"}},35:function(e,t,a){e.exports={makerGreen:"#385461",makerWhite:"#ffffff",footer:"footer_footer__1YZUN",title:"footer_title__1huUK"}},38:function(e,t,a){e.exports={makerGreen:"#385461",makerLightGrey:"#e8e7e6",editor:"editor_editor__3mwc8",title:"editor_title__1RXrI"}},39:function(e,t,a){e.exports={mediaQuery:"62rem",makerWhite:"#ffffff",maker:"maker_maker__Gj104",container:"maker_container__BTtTb"}},43:function(e,t,a){e.exports={makerGrey:"#626262",app:"app_app__2uP9Y"}},45:function(e,t,a){e.exports={makerGreen:"#385461",makerWhite:"#ffffff",button:"button_button__9Zfzm"}},50:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(14),c=a(3),r=a.n(c),i=a(42),s=a.n(i),l=(a(50),a(28)),o=a(8),u=a(43),f=a.n(u),d=a(35),m=a.n(d),j=a(2),_=function(e){return Object(j.jsx)("footer",{className:m.a.footer,children:Object(j.jsx)("h2",{className:m.a.title,children:"Code Your Dream"})})},b=a(26),p=a.n(b),h=function(e){var t=e.onLogout;return Object(j.jsxs)("header",{className:p.a.header,children:[t&&Object(j.jsx)("button",{className:p.a.logout,onClick:t,children:"Logout"}),Object(j.jsx)("img",{className:p.a.logo,src:"./images/logo.png",alt:"logo"}),Object(j.jsx)("h1",{className:p.a.title,children:"Business Card Maker"})]})},O=a(31),x=a.n(O),v=function(e){var t=e.authService,a=Object(o.f)(),n=function(e){a.push({pathname:"/maker",state:{id:e}})},r=function(e){t.login(e.currentTarget.textContent).then((function(e){return n(e.user.uid)}))};return Object(c.useEffect)((function(){t.onAuthChange((function(e){e&&n(e.uid)}))})),Object(j.jsxs)("section",{className:x.a.login,children:[Object(j.jsx)(h,{}),Object(j.jsxs)("section",{children:[Object(j.jsx)("h2",{children:"login"}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)("button",{className:x.a.btn,onClick:r,children:"Google"})}),Object(j.jsx)("li",{children:Object(j.jsx)("button",{className:x.a.btn,onClick:r,children:"Github"})})]})]}),Object(j.jsx)(_,{})]})},g=a(19),k=a(29),N=a(16),C=a.n(N),y=a(45),R=a.n(y),w=function(e){var t=e.name,a=e.onClick;return Object(j.jsx)("button",{className:R.a.button,onClick:a,children:t})},I=function(e){var t=e.card,a=e.updateCard,r=e.deleteCard,i=e.FileInput,s=t.name,l=t.theme,o=t.title,u=t.email,f=t.fileName,d=t.company,m=Object(c.useRef)(""),_=Object(c.useRef)(""),b=Object(c.useRef)(),p=Object(c.useRef)(""),h=Object(c.useRef)(""),O=Object(c.useRef)(""),x=function(e){null!=e.currentTarget&&(e.preventDefault(),a(Object(n.a)(Object(n.a)({},t),{},Object(k.a)({},e.currentTarget.name,e.currentTarget.value))))};return Object(j.jsxs)("form",{className:C.a.form,children:[Object(j.jsx)("input",{className:C.a.input,ref:m,type:"text",name:"name",value:s,onChange:x}),Object(j.jsx)("input",{className:C.a.input,ref:_,type:"text",name:"company",value:d,onChange:x}),Object(j.jsxs)("select",{className:C.a.select,ref:b,name:"theme",value:l,onChange:x,children:[Object(j.jsx)("option",{value:"light",children:"Light"}),Object(j.jsx)("option",{value:"dark",children:"Dark"}),Object(j.jsx)("option",{value:"colorful",children:"Colorful"})]}),Object(j.jsx)("input",{className:C.a.input,ref:p,type:"text",name:"title",value:o,onChange:x}),Object(j.jsx)("input",{className:C.a.input,ref:h,type:"text",name:"email",value:u,onChange:x}),Object(j.jsx)("textarea",{className:C.a.textarea,ref:O,name:"message",onChange:x}),Object(j.jsx)("div",{className:C.a.fileInput,children:Object(j.jsx)(i,{name:f,onFileChange:function(e){a(Object(n.a)(Object(n.a)({},t),{},{fileName:e.name,fileURL:e.url}))}})}),Object(j.jsx)(w,{name:"Delete",onClick:function(e){r(t)}})]})},G=a(17),L=a.n(G),F=function(e){var t=e.onAdd,a=e.FileInput,n=Object(c.useRef)(),r=Object(c.useRef)(),i=Object(c.useRef)(),s=Object(c.useRef)(),l=Object(c.useRef)(),o=Object(c.useRef)(),u=Object(c.useRef)(),f=Object(c.useState)({fileName:null,fileURL:null}),d=Object(g.a)(f,2),m=d[0],_=d[1];return Object(j.jsxs)("form",{className:L.a.form,ref:n,children:[Object(j.jsx)("input",{className:L.a.input,ref:r,type:"text",name:"name",placeholder:"Name"}),Object(j.jsx)("input",{className:L.a.input,ref:i,type:"text",name:"company",placeholder:"Company"}),Object(j.jsxs)("select",{className:L.a.select,ref:u,name:"theme",children:[Object(j.jsx)("option",{value:"light",children:"Light"}),Object(j.jsx)("option",{value:"dark",children:"Dark"}),Object(j.jsx)("option",{value:"colorful",children:"Colorful"})]}),Object(j.jsx)("input",{className:L.a.input,ref:s,type:"text",name:"title",placeholder:"title"}),Object(j.jsx)("input",{className:L.a.input,ref:l,type:"text",name:"email",placeholder:"email"}),Object(j.jsx)("textarea",{className:L.a.textarea,ref:o,name:"message"}),Object(j.jsx)("div",{className:L.a.fileInput,children:Object(j.jsx)(a,{name:m.fileName,onFileChange:function(e){console.log(e),_({fileName:e.name,fileURL:e.url})}})}),Object(j.jsx)(w,{name:"Add",onClick:function(e){e.preventDefault();var a={id:Date.now(),name:r.current.value,company:i.current.value,theme:u.current.value,title:s.current.value,email:l.current.value,message:o.current.value,fileName:m.fileName||"",fileURL:m.fileURL||""};t(a),n.current.reset(),_({fileName:null,fileURL:null})}})]})},S=a(38),D=a.n(S),A=function(e){var t=e.cards,a=e.onAdd,n=e.updateCard,c=e.deleteCard,r=e.FileInput;return Object(j.jsxs)("section",{className:D.a.editor,children:[Object(j.jsx)("h3",{className:D.a.title,children:"Card Maker"}),Object.keys(t).map((function(e){return Object(j.jsx)(I,{card:t[e],updateCard:n,deleteCard:c,FileInput:r},e)})),Object(j.jsx)(F,{cards:t,onAdd:a,FileInput:r})]})},U=a(13),z=a.n(U),P=function(e){switch(e){case"light":return z.a.light;case"dark":return z.a.dark;case"colorful":return z.a.colorful;default:throw new Error("unkown theme : ".concat(e))}},B=function(e){var t=e.card,a=t.id,n=t.name,c=t.title,r=t.theme,i=t.email,s=t.fileURL,l=t.company,o=t.message,u=s||"./images/default_logo.png";return Object(j.jsxs)("li",{className:"".concat(z.a.card," ").concat(P(r)),children:[Object(j.jsx)("img",{className:z.a.avatar,src:u,alt:"profile img"}),Object(j.jsxs)("div",{className:z.a.info,children:[Object(j.jsx)("h3",{className:z.a.name,children:n}),Object(j.jsx)("p",{className:z.a.company,children:l}),Object(j.jsx)("p",{className:z.a.title,children:c}),Object(j.jsx)("p",{className:z.a.email,children:i}),Object(j.jsx)("p",{className:z.a.message,children:o})]})]},a)},W=a(32),T=a.n(W),E=function(e){var t=e.cards;return Object(j.jsxs)("section",{className:T.a.preview,children:[Object(j.jsx)("h3",{className:T.a.title,children:"Card Preview"}),Object(j.jsx)("ul",{className:T.a.cards,children:Object.keys(t).map((function(e){return Object(j.jsx)(B,{card:t[e]},e)}))})]})},M=a(39),Q=a.n(M),V=function(e){var t,a=e.authService,r=e.FileInput,i=e.cardRepository,s=Object(o.f)(),l=null===s||void 0===s||null===(t=s.location)||void 0===t?void 0:t.state,u=Object(c.useState)({}),f=Object(g.a)(u,2),d=f[0],m=f[1],b=Object(c.useState)(l&&l.id),p=Object(g.a)(b,2),O=p[0],x=p[1];Object(c.useEffect)((function(){if(O){var e=i.syncCards(O,(function(e){m(e)}));return function(){return e()}}}),[O]),Object(c.useEffect)((function(){a.onAuthChange((function(e){e?x(e.uid):s.push("/")}))}));var v=function(e){m((function(t){var a=Object(n.a)({},t);return a[e.id]=e,a})),i.saveCard(O,e)};return Object(j.jsxs)("section",{className:Q.a.maker,children:[Object(j.jsx)(h,{onLogout:function(){a.logout()}}),Object(j.jsxs)("div",{className:Q.a.container,children:[Object(j.jsx)(A,{cards:d,onAdd:v,updateCard:v,deleteCard:function(e){m((function(t){var a=Object(n.a)({},t);return delete a[e.id],a})),i.removeCard(O,e)},FileInput:r}),Object(j.jsx)(E,{cards:d})]}),Object(j.jsx)(_,{})]})};var Z=function(e){var t=e.authService,a=e.FileInput,n=e.cardRepository;return Object(j.jsx)("div",{className:f.a.app,children:Object(j.jsx)(l.a,{children:Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{exact:!0,path:"/",children:Object(j.jsx)(v,{authService:t})}),Object(j.jsx)(o.a,{path:"/maker",children:Object(j.jsx)(V,{authService:t,FileInput:a,cardRepository:n})})]})})})},q=a(20),H=a(21),J=a(23),K=J.a.initializeApp({apiKey:"AIzaSyDGDx66afEyNac9weF8JyUV76sx8DoGsPA",authDomain:"business-card-maker-ac97e.firebaseapp.com",databaseURL:"https://business-card-maker-ac97e-default-rtdb.firebaseio.com",projectId:"business-card-maker-ac97e"}),X=function(){function e(){Object(q.a)(this,e)}return Object(H.a)(e,[{key:"login",value:function(e){var t=new(J.a.auth["".concat(e,"AuthProvider")]);return K.auth().signInWithPopup(t)}},{key:"logout",value:function(){J.a.auth().signOut()}},{key:"onAuthChange",value:function(e){J.a.auth().onAuthStateChanged((function(t){e(t)}))}}]),e}(),Y=a(22),$=a.n(Y),ee=a(30),te=function(){function e(){Object(q.a)(this,e)}return Object(H.a)(e,[{key:"upload",value:function(){var e=Object(ee.a)($.a.mark((function e(t){var a,n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),a.append("upload_preset","bzzul38y"),e.next=5,fetch("https://api.cloudinary.com/v1_1/dqtqttxxs/image/upload",{method:"POST",body:a});case 5:return n=e.sent,e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ae=a(24),ne=a.n(ae),ce=function(e){var t=e.imageUploader,a=e.name,n=e.onFileChange,r=Object(c.useRef)(),i=Object(c.useState)(!1),s=Object(g.a)(i,2),l=s[0],o=s[1],u=function(e){e.preventDefault(),r.current.click()},f=function(){var e=Object(ee.a)($.a.mark((function e(a){var c;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,t.upload(a.target.files[0]);case 3:c=e.sent,n({name:c.original_filename,url:c.url}),o(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:ne.a.container,children:[Object(j.jsx)("input",{className:ne.a.input,ref:r,type:"file",accept:"image/*",name:"file",onChange:f}),!l&&Object(j.jsx)("button",{className:"".concat(ne.a.button," ").concat(a&&ne.a.blue),onClick:u,children:a||"No image"}),l&&Object(j.jsx)("button",{className:ne.a.loading,onClick:u})]})},re=function(){function e(){Object(q.a)(this,e)}return Object(H.a)(e,[{key:"syncCards",value:function(e,t){var a=K.database().ref("".concat(e,"/cards"));return a.on("value",(function(e){var a=e.val();a&&t(a)})),function(){return a.off()}}},{key:"saveCard",value:function(e,t){K.database().ref("".concat(e,"/cards/").concat(t.id)).set(t)}},{key:"removeCard",value:function(e,t){K.database().ref("".concat(e,"/cards/").concat(t.id)).remove()}}]),e}(),ie=new X,se=new re,le=new te;s.a.render(Object(j.jsxs)(r.a.StrictMode,{children:[Object(j.jsx)(Z,{authService:ie,FileInput:function(e){return Object(j.jsx)(ce,Object(n.a)(Object(n.a)({},e),{},{imageUploader:le}))},cardRepository:se})," "]}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.99d45c66.chunk.js.map